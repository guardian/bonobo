@(id: String, form: Form[controllers.Application.EditUserFormData], firstName: String, keys: List[KongKey], pageTitle: String, success: Option[String] = None, error: Option[String] = None)(implicit messages: Messages)
@implicitFieldConstructor = @{ b3.horizontal.fieldConstructor("col-md-4", "col-md-8") }

@main("Edit user", firstName, pageTitle, success, error) {
  <div class="row">
    <div class="col-md-6 col-md-offset-2 column">
    @b3.form(routes.Application.editUser(id)) {
      @b3.text( form("email"), '_label -> "Email", 'placeholder -> "Email")
      @b3.text( form("name"), '_label -> "Name", 'placeholder -> "Name")
      @b3.text( form("company"), '_label -> "Company", 'placeholder -> "Company")
      @b3.text( form("url"), '_label -> "Url", 'placeholder -> "Url")
      @b3.submit('class -> "btn btn-primary"){ Save }
    }
    </div>
  </div>

  <div>
    <h4>Keys for the current user</h4>

    <table class="table table-responsive table-striped">
      <thead>
        <tr>
          <th>Key</th>
          <th>Tier</th>
          <th>Requests per minute</th>
          <th>Requests per day</th>
          <th>Created At</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
      @for(key <- keys) {
        <tr>
          <td>@key.key</td>
          <td>@key.tier.friendlyName</td>
          <td>@key.requestsPerMinute</td>
          <td>@key.requestsPerDay</td>
          <td>@key.createdAt.toString("dd-MM-yyyy hh:mma")</td>
          <td>@key.status</td>
          <td><a href="@routes.Application.editKeyPage(key.key)" class="text-info">Edit key</a></td>
        </tr>
      }
      </tbody>
    </table>
  </div>

  <div>
    <a href="@routes.Application.createKeyPage(id)" class="btn btn-success">Create a new key for this user</a>
  </div>
}